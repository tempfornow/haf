<div ng-controller = "registerController">

    <form novalidate name = "registerForm">

        <!-- Username -->
        <div class = "form-group" ng-class = "{ 'has-error' : (!registerForm.username.$pristine ||  registerForm.username.$touched) && registerForm.username.$invalid}">
            <label temp>שם משתמש:</label>
            <input name = "username" type = "text" class="form-control" ng-model = "user.username" 
                placeholder = "שם משתמש" ng-pattern = "/^[a-zA-Z0-9]*$/" required>
            <div class ="help-block" ng-show = "!registerForm.username.$pristine || registerForm.username.$touched" ng-messages="registerForm.username.$error" role="alert">
                <p ng-message="required">יש להזין שם משתמש</p> 
                <p ng-message="pattern">על שם המשתמש להכיל אותיות ומספרים בלבד</p> 
            </div>
        </div>

        <!-- Password -->
        <div class = "form-group" ng-class = "{ 'has-error' : (!registerForm.password.$pristine || registerForm.password.$touched) && registerForm.password.$invalid}">
            <label>סיסמה:</label>
            <input name = "password" type = "password" class="form-control" ng-model = "user.password" 
                placeholder = "סיסמה" ng-minlength  = "8" ng-pattern = "/^[^\s]*$/" required>
            <div class ="help-block" ng-show = "!registerForm.password.$pristine || registerForm.password.$touched" 
                 ng-messages = "registerForm.password.$error" role="alert">
                <p ng-message = "minlength,required">יש להזין סיסמה באורך 8 לפחות!</p> 
                <p ng-message = "pattern">אין להקיש רווחים בסיסמה</p> 
            </div>
        </div>

        <!-- Name -->
        <div class = "form-group" ng-class = "{ 'has-error' : (!registerForm.name.$pristine || registerForm.name.$touched) && registerForm.name.$invalid}">
            <label>שם פרטי:</label>
            <input name = "name" type = "text" class="form-control" ng-model = "user.firstname" 
                placeholder = "שם פרטי" ng-pattern = "/^[a-zA-Z]*$/" required>
            <div class ="help-block" ng-show = "!registerForm.name.$pristine || registerForm.name.$touched"
                 ng-messages = "registerForm.name.$error" role="alert">
                <p ng-message = "required">יש להזין שם פרטי</p> 
                <p ng-message = "pattern">על השם הפרטי להכיל אותיות בלבד</p> 
            </div>

        </div>

        <!-- Surname -->
        <div class = "form-group" ng-class = "{ 'has-error' : (!registerForm.surname.$pristine ||  registerForm.surname.$touched) && registerForm.surname.$invalid}">
            <label>שם משפחה:</label>
            <input name = "surname" type = "text" class="form-control" ng-model = "user.surname" 
                placeholder = "שם משפחה" ng-pattern = "/^[a-zA-Z]*$/" required>
            <div class ="help-block" ng-show = "!registerForm.surname.$pristine ||  registerForm.surname.$touched"
                 ng-messages = "registerForm.surname.$error" role="alert">
                <p ng-message = "required">יש להזין שם משפחה</p> 
                <p ng-message = "pattern">על שם המשפחה להכיל אותיות בלבד</p>
            </div>
        </div>

        <!-- Age -->
        <div class = "form-group" ng-class = "{ 'has-error' : (!registerForm.age.$pristine || registerForm.age.$touched)&& !registerForm.age.$dirty }">
            <label>גיל:</label>
            <select name = "age" class = "form-control input-sm" 
                ng-options = "age for age in validAges" ng-model = "user.age"></select>
            <p ng-show = "(!registerForm.age.$pristine || registerForm.age.$touched) && !registerForm.age.$dirty" 
               class = "help-block">יש להזין גיל</p>	

        </div>

        <button id = "login-button" type = "submit" ng-click = "register(user)" 
                ng-disabled = "registerForm.$invalid" class = "btn btn-success btn-block">הירשם</button>

<!--        <pre>{{user | json}}</pre>-->
    </form>
</div>